<!DOCTYPE html>
<html>
  <head>
    <title>Encrypted Chat Extension</title>
    <style>
      body {
        background-color: #474951;
        min-width: 500px;
        max-height: 500px;
        max-width: 500px;
        min-height: 400px;
        max-height: none;
        position: relative;
        vertical-align: middle;
      }

      .header {
        text-align: center;
      }

      .error-message {
        color: red;
        display: none;
      }
    </style>
  </head>
  <body>
    <div class="header">
      <img src="Full.png" width="350" height="100">
    </div>
    <div class="main">
      <center>
        <div style="width: 40%; padding: 20px; border-radius: 10px; background-color: #474951;">
          <input id="usernameInput" type="text" placeholder="Username" style="width: 100%; padding: 15px; font-size: 20px; border-radius: 5px; border: none;">
          <br><br>
          <input id="passwordInput" type="password" placeholder="Password" style="width: 100%; padding: 15px; font-size: 20px; border-radius: 5px; border: none;">
          <br><br>
          <button id="loginButton" style="width: 100%; padding: 15px; font-size: 20px; border-radius: 5px; border: none; background-color: rgb(92, 92, 92); color: white;">Login</button>
          <br><br>
          <form action="register.html">
            <button type="submit" style="width: 100%; padding: 15px; font-size: 20px; border-radius: 5px; border: none; background-color: rgb(92, 92, 92); color: white;">New User</button>
          </form>
          <br><br>
          <form action="chatpage.html">
            <button type="submit" style="width: 100%; padding: 15px; font-size: 20px; border-radius: 5px; border: none; background-color: rgb(92, 92, 92); color: white;">Chatroom</button>
          </form>
        </div>
      </center>
      
      <div id="errorMessage" class="error-message">Error: Login failed</div>
    </div>

    <script>
      const errorMessage = document.getElementById("errorMessage");
      const usernameInput = document.getElementById("usernameInput");
      const passwordInput = document.getElementById("passwordInput");
      const loginButton = document.getElementById("loginButton");

      const users = [
        {
          username: "test",
          password: "test",
        },
      ];

      loginButton.addEventListener("click", () => {
        const enteredUsername = usernameInput.value;
        const enteredPassword = passwordInput.value;

        let isUserFound = false;

        users.forEach((user) => {
          if (
            user.username === enteredUsername &&
            user.password === enteredPassword
          ) {
            isUserFound = true;
            window.location.href = "friendpage.html";
          }
        });

        if (!isUserFound) {
          errorMessage.style.display = "block";
        }
      });
    </script>
  </body>
</html>
