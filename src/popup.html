<!DOCTYPE html>
<html>
  <head>
    <title>Encrypted Chat Extension</title>
    <style>
      body {
        background-color: #474951;
        min-width: 500px;
        max-height: 500px;
        max-width: 500px;
        min-height: 400px;
        max-height: none;
        position: relative;
        vertical-align: middle;
      }

      .header {
        text-align: center;
      }

      .error-message {
        color: red;
        display: none;
      }
    </style>
  </head>
  <body>
    <div class="header">
      <img src="Full.png" width="350" height="100">
    </div>
    <div class="main">
      <center>
        
        <input id="usernameInput" type="text" placeholder ="Username">
      </center>
      <center>
        <input id="passwordInput" type="password" placeholder="Password">
      </center>
      <center>
        <button id="loginButton">Login</button>
      </center>
      <center>
        <form action="register.html">
          <button type="submit">New User?</button>
        </form>
      </center>
      <form action="chatpage.html">
        <button type="submit">Chatroom</button>
      </form>
      <div id="errorMessage" class="error-message">Error: Login failed</div>
    </div>

    <script>
      const errorMessage = document.getElementById("errorMessage");
      const usernameInput = document.getElementById("usernameInput");
      const passwordInput = document.getElementById("passwordInput");
      const loginButton = document.getElementById("loginButton");

      const users = [
        {
          username: "test",
          password: "test",
        },
      ];

      loginButton.addEventListener("click", () => {
        const enteredUsername = usernameInput.value;
        const enteredPassword = passwordInput.value;

        let isUserFound = false;

        users.forEach((user) => {
          if (
            user.username === enteredUsername &&
            user.password === enteredPassword
          ) {
            isUserFound = true;
            window.location.href = "friendpage.html";
          }
        });

        if (!isUserFound) {
          errorMessage.style.display = "block";
        }
      });
    </script>
  </body>
</html>
